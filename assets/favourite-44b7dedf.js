import{a,r,b as f,c as E,f as S,d as g}from"./mobile-menu-bda0d791.js";const c=document.querySelector('[data-name="text-block"]'),n=document.querySelector('[data-name="card-block"]'),d=document.querySelector("[data-exmodal]");let u={},m=[],i=[];const y=["quote","theme","TOAST UI pagination for localhost: Statistics"],x=()=>{for(let e=0;e<localStorage.length;e++){let o=localStorage.key(e);y.includes(o)||i.push(o)}if(!i.length){a(c,"favourite__text"),r(c,"is-hidden"),a(n,"is-hidden"),r(n,"favourite__card-block");return}try{i.map(e=>{const o=localStorage.getItem(e);u=JSON.parse(o),m.push(u)})}catch{error}a(c,"is-hidden"),r(c,"favourite__text"),a(n,"favourite__card-block"),r(n,"is-hidden"),f(n,E(m)),M(),T(),L()};window.addEventListener("load",x);const h=document.querySelector('[data-name="modalfavourite"]'),k=document.querySelector(".exercise-modal-button__favorite"),_=document.querySelector("[data-exmod-close]"),q=document.querySelector(".exercise-modal-button__rating"),p=document.querySelector(".exercise-modal-button__remove"),T=()=>{document.querySelectorAll(".card_rating").forEach(t=>{a(t.firstElementChild,"is-hidden"),r(t.firstElementChild,"span_rating"),a(t.lastElementChild,"icon_trash"),r(t.lastElementChild,"is-hidden")}),document.querySelectorAll(".star").forEach(t=>{a(t,"is-hidden"),r(t,"star")})},L=()=>{document.querySelectorAll('[data-name="fovourite-delete"]').forEach(o=>{o.addEventListener("click",B)})};d.addEventListener("click",e=>{e.target===e.currentTarget&&a(d,"is-hidden")});function l(){d.classList.add("is-hidden"),document.removeEventListener("keydown",v)}function v(e){e.code==="Escape"&&l()}document.addEventListener("keydown",v);_.addEventListener("click",l);const M=()=>{document.querySelectorAll("[data-exmod-open]").forEach(o=>{o.addEventListener("click",b)})},b=e=>{const o=e.currentTarget.dataset.id;h.innerHTML=" ",S(o).then(t=>{const s=g(t);h.insertAdjacentHTML("beforeend",s),r(d,"is-hidden"),a(k,"is-hidden"),a(q,"is-hidden")}).catch(t=>console.log(t))},B=e=>{const o=e.currentTarget.dataset;localStorage.removeItem(o.id);const t=document.querySelector(`[data-name = "${o.id}"]`);t.innerHTML=""},C=e=>{const t=document.querySelector(".exercise-modal-tumb").dataset;localStorage.removeItem(t.id);const s=document.querySelector(`[data-name = "${t.id}"]`);s.innerHTML="",l()};p.addEventListener("click",C);
